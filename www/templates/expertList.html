<ion-view>

  <!-- 내비게이션 바 시작. 각 화면에 전부 추가할것. -->
  <ion-nav-bar class="bar-royal">
    <ion-nav-back-button>
    </ion-nav-back-button>

    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
      </button>
    </ion-nav-buttons>

    <ion-nav-title ng-click="filterShow()"  >
      전문가 목록
      <i class="icon ion-ios-search-strong"></i>
    </ion-nav-title>

    <ion-nav-buttons side="right">
      <a class="button icon ion-ios-lightbulb-outline"></a>
      <a class="button icon ion-ios-bell-outline"></a>
    </ion-nav-buttons>
  </ion-nav-bar>
  <!-- 내비게이션 바 끝.-->

  <ion-content>

    <ion-refresher pulling-text="Pull to refresh" on-refresh="doRefresh()">
    </ion-refresher>

    <ion-list class="list">
      <ion-item class="item item-button-right">
        <h4>
          총
          <span style="color:blue;">{{expertlist.length}}</span>명의
          전문가가 당신을 기다리고 있습니다.
        </h4>
        <button type="button" class="button button-icon" ng-click="getMetaData();">
          <i class="icon ion-android-options"></i>
        </button>
      </ion-item>
    </ion-list>

    <ion-list style="margin-top:200px;">
      <!-- 반응형 웹이 잘 안된다. 왜그럴까. 아마도 리스트라 그런듯. -->
      <ion-item ng-repeat="expert in expertlist" class="list card expert-list-item">
        <div class="row">
          <div class="row">
            <span class="cate-tag" ng-repeat="cate in metaData.category | filter:{name:expert.category}:filterByCategory" ng-style="cate.style">
            </span>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-3 col-sm-2 col-5px">
            <div class="row">
              <img class="img-circle" ng-src="http://{{configObj.host+':'+configObj.port+expert.user_photo}}" width="100%" height="100%" />
            </div>
          </div>

          <div class="col-xs-9 col-sm-10 col-5px">
            <div class="row" style="margin-bottom:10px;">
              <div class="col" style="padding:0px;">
                <div class="row" style="margin-bottom:5px;">
                  <h2 style="font-size:1.2em;">
                    {{expert.name}}<small style="font-size:0.8em;">님</small>
                  </h2>
                </div>
                <div class="row card-cont">
                  <h4 type="button" class="thumbnail" style="padding:0px 4px;margin:0px;">
                    {{expert.expert_type}}
                  </h4>
                </div>
              </div>

              <div class="col">
                <button class="button button-energized button-small pull-right">
                  <i class="icon ion-android-favorite-outline"></i> 찜
                </button>
              </div>
            </div>

            <div class="row card-cont">
              <h4>
                {{expert.profile_title}}
              </h4>
            </div>

            <div class="row card-cont">
              <span class="cate-name" ng-repeat="cate in metaData.category | filter:{name:expert.category}:filterByCategory" ng-style="cate.style">
                {{cate.name}}
              </span>
            </div>

            <div class="row card-cont">
              <h4 ng-show="expert.price.phone_enable" style="color:gray;">| 전화</h4>
              <h4 ng-show="expert.price.email_enable" style="color:gray;">&nbsp;| 이메일</h4>
              <h4 ng-show="expert.price.message_enable" style="color:gray;">&nbsp;| 문자/메시지</h4>
              <h4 ng-show="expert.price.interview_enable" style="color:gray;">&nbsp;| 대면</h4>
              <h4 style="color:gray;">&nbsp;|</h4>
            </div>

            <div class="row">
              <span style="font-size:1.1em" class="text-primary">
                {{expert.price.email_amount|currency:"&#8361; ":0}} ~
                {{expert.price.interview_amount|currency:"&#8361; ":0}}
              </span>
            </div>
          </div>
        </div>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-view>
